public class ZlozenieTransformacji implements Transformacja{
    private final Transformacja[] tab;
    
    public ZlozenieTransformacji(Transformacja[] tab){
        this.tab = tab;
    }
    
    @Override
    public Punkt transformuj(Punkt p){
        Punkt result = new Punkt(p.getX(), p.getY());
        for(int i = 0; i < tab.length; i++){
            result = tab[i].transformuj(result);
        }
        return result;
    }
    
    @Override
    public Transformacja getTransformacjaOdwrotna() throws BrakTransformacjiOdwrotnejException{
        Transformacja[] tab = new Transformacja[this.tab.length];
        try{
            for(int i = 0; i < tab.length; i++){
                tab[i] = this.tab[tab.length - i - 1].getTransformacjaOdwrotna();
            }
        }
        catch(BrakTransformacjiOdwrotnejException ex){
            ex.printStackTrace();
        }
        return new ZlozenieTransformacji(tab);
    }
    
    public Transformacja[] getTab(){
        return tab;
    }
    
    @Override
    public String toString(){
        String result = "Z³o¿enie transformacji{\n";
        for(int i = 0; i < tab.length; i++){
            result += tab[i] + "\n";
        }
        result += "} - - - - - - - - - - -";
        return result;
    }
}